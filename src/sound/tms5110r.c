/* TMS5110 ROM Tables */
#define COEFF_ENERGY_SENTINEL	(511)

const static unsigned short kbits[10] = {
5, 5, 4, 4, 4, 4, 4, 3, 3, 3
};

/* This is the energy lookup table */
const static unsigned short energytable[0x10]= {
 0,   1,   2,   3,   4,   6,   8,  11,
16,  23,  33,  47,  63,  85, 114, 511
};

/* This is the pitch lookup table */
const static unsigned short pitchtable[0x20]= {
 0,  15,  16,  17,  19,  21,  22,  25,
26,  29,  32,  36,  40,  42,  46,  50,
55,  60,  64,  68,  72,  76,  80,  84,
86,  93, 101, 110, 120, 132, 144, 159
};

/* These are the reflection coefficient lookup tables */

/* K1 is (5-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short ktable[10][0x20]= {
{
-501, -498, -497, -495, -493, -491, -488, -482,
-478, -474, -469, -464, -459, -452, -445, -437,
-412, -380, -339, -288, -227, -158,  -81,   -1,
  80,  157,  226,  287,  337,  379,  411,  436
},
{
-328, -303, -274, -244, -211, -175, -138,  -99,
 -59,  -18,   24,   64,  105,  143,  180,  215,
 248,  278,  306,  331,  354,  374,  392,  408,
 422,  435,  445,  455,  463,  470,  476,  506
},
{
-441, -387, -333, -279, -225, -171, -117,  -63,
  -9,   45,   98,  152,  206,  260,  314,  368
},
{
-328, -273, -217, -161, -106,  -50,    5,   61,
 116,  172,  228,  283,  339,  394,  450,  506
},
{
-328, -282, -235, -189, -142,  -96,  -50,   -3,
  43,   90,  136,  182,  229,  275,  322,  368
},
{
-256, -212, -168, -123,  -79,  -35,   10,   54,
  98,  143,  187,  232,  276,  320,  365,  409
},
{
-308, -260, -212, -164, -117,  -69,  -21,   27,
  75,  122,  170,  218,  266,  314,  361,  409
},
{
-256, -161,  -66,   29,  124,  219,  314,  409
},
{
-256, -176,  -96,  -15,   65,  146,  226,  307
},
{
-205, -132,  -59,   14,   87,  160,  234,  307
}
};

/* chirp table */

const static char chirptable[52]= {
  0,  42, -44, 50, -78, 18, 37, 20,
  2, -31, -59,  2,  95, 90,  5, 15,
 38, -4,  -91,-91, -42,-35,-36, -4,
 37, 43,   34, 33,  15, -1, -8,-18,
-19,-17,   -9,-10,  -6,  0,  3,  2,
  1,  0,    0,  0,   0,  0,  0,  0,
  0,  0,    0,  0
};

/* interpolation coefficients */

const static char interp_coeff[8] = {
3, 3, 3, 2, 2, 2, 1, 0
};

