/* TMS5220 ROM Tables */

/* This is the energy lookup table (4-bits -> 10-bits) */

const static unsigned short energytable[0x10]={
/*
0,3,5,7,10,14,20,29,
40,57,81,114,161,227,321,511
*/
0,52,87,123,174,246,348,491,
694,981,1385,1957,2764,3904,5514,7789
};

/* This is the pitch lookup table (6-bits -> 8-bits) */

const static unsigned short pitchtable [0x40]={
0x0000,0x1000,0x1100,0x1200,0x1300,0x1400,0x1500,0x1600,
0x1700,0x1800,0x1900,0x1A00,0x1B00,0x1C00,0x1D00,0x1E00,
0x1F00,0x2000,0x2100,0x2200,0x2300,0x2400,0x2500,0x2600,
0x2700,0x2800,0x2900,0x2A00,0x2B00,0x2D00,0x2F00,0x3100,
0x3300,0x3500,0x3600,0x3900,0x3B00,0x3D00,0x3F00,0x4200,
0x4500,0x4700,0x4900,0x4D00,0x4F00,0x5100,0x5500,0x5700,
0x5C00,0x5F00,0x6300,0x6600,0x6A00,0x6E00,0x7300,0x7700,
0x7B00,0x8000,0x8500,0x8A00,0x8F00,0x9500,0x9A00,0xA000};

/* These are the reflection coefficient lookup tables */

/* K1 is (5-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k1table    [0x20]={
(short)0x82C2,(short)0x8380,(short)0x83C2,(short)0x8441,(short)0x84C1,(short)0x8541,(short)0x8602,(short)0x8782,
(short)0x8881,(short)0x8981,(short)0x8AC2,(short)0x8C03,(short)0x8D41,(short)0x8F02,(short)0x90C3,(short)0x92C2,
(short)0x9911,(short)0xA136,(short)0xAB80,(short)0xB82D,(short)0xC74E,(short)0xD8B3,(short)0xEBDD,(short)0xFFFF,
0x1420,0x274A,0x38AF,0x47D1,0x547E,0x5EC9,0x66ED,0x6D3E
};

/* K2 is (5-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k2table    [0x20]={
(short)0xAE16,(short)0xB47C,(short)0xBB86,(short)0xC332,(short)0xCB79,(short)0xD451,(short)0xDDA9,(short)0xE76A,
(short)0xF179,(short)0xFBB8,0x604,0x103E,0x1A42,0x23F3,0x2D36,0x35F7,
0x3E25,0x45B6,0x4CA4,0x52EF,0x589B,0x5DAE,0x6230,0x662D,
0x69AE,0x6CC0,0x6F6D,0x71C1,0x73C6,0x7584,0x7705,0x7E7F
};

/* K3 is (4-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k3table    [0x10]={
(short)0x91ED,(short)0x9F68,(short)0xACE4,(short)0xBA5F,(short)0xC7DB,(short)0xD556,(short)0xE2D2,(short)0xF04D,
(short)0xFDC9,0xB43,0x18BE,0x263A,0x33B5,0x4131,0x4EAC,0x5C28
};

/* K4 is (4-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k4table    [0x10]={
(short)0xAE16,(short)0xBBFA,(short)0xC9E0,(short)0xD7C5,(short)0xE5A9,(short)0xF38F,0x172,0xF57,
0x1D3C,0x2B21,0x3906,0x46EB,0x54D0,0x62B5,0x709A,0x7E7F
};

/* K5 is (4-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k5table    [0x10]={
(short)0xAE16,(short)0xB9B1,(short)0xC54B,(short)0xD0E6,(short)0xDC81,(short)0xE81C,(short)0xF3B7,(short)0xFF52,
0xAEC,0x1686,0x2221,0x2DBC,0x3957,0x44F2,0x508D,0x5C28
};

/* K6 is (4-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k6table    [0x10]={
(short)0xC001,(short)0xCB19,(short)0xD631,(short)0xE148,(short)0xEC60,(short)0xF778,0x28F,0xDA7,
0x18BE,0x23D6,0x2EEE,0x3A06,0x451E,0x5036,0x5B4D,0x6665
};

/* K7 is (4-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k7table    [0x10]={
(short)0xB334,(short)0xBF26,(short)0xCB19,(short)0xD70B,(short)0xE2FD,(short)0xEEF0,(short)0xFAE2,0x6D3,
0x12C5,0x1EB8,0x2AAA,0x369C,0x428E,0x4E80,0x5A73,0x6665
};

/* K8 is (3-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k8table    [0x08]={
(short)0xC001,(short)0xD7C6,(short)0xEF8C,0x750,0x1F15,0x36DA,0x4EA0,0x6665
};

/* K9 is (3-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k9table    [0x08]={
(short)0xC001,(short)0xD41E,(short)0xE83B,(short)0xFC58,0x1074,0x2491,0x38AF,0x4CCC
};

/* K10 is (3-bits -> 9 bits+sign, 2's comp. fractional (-1 < x < 1) */

const static short k10table   [0x08]={
(short)0xCCCE,(short)0xDF17,(short)0xF160,0x3A8,0x15F1,0x283A,0x3A83,0x4CCC
};

/* chirp table */

static char chirptable[51]={
0x00, 0x2a, (char)0xd4, 0x32,
(char)0xb2, 0x12, 0x25, 0x14,
0x02, (char)0xe1, (char)0xc5, 0x02,
0x5f, 0x5a, 0x05, 0x0f,
0x26, (char)0xfc, (char)0xa5, (char)0xa5,
(char)0xd6, (char)0xdd, (char)0xdc, (char)0xfc,
0x25, 0x2b, 0x22, 0x21,
0x0f, (char)0xff, (char)0xf8, (char)0xee,
(char)0xed, (char)0xef, (char)0xf7, (char)0xf6,
(char)0xfa, 0x00, 0x03, 0x02,
0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00
};

/* interpolation coefficients (in rightshifts, as in actual chip) */

static char interp_coeff[8] = {
3, 3, 3, 2, 2, 1, 1, 0
};

